# План автоматизации тестирования web-формы сервиса покупки туров, при помощи банковской карты и оформление кредита по банковской карте:

## Перечень автоматизируемых сценариев

#### Данные по картам
* <a name="valcard"></a> Номер валидной карты : "4444 4444 4444 4441" статус карты "APPROVED"
* <a name="notval"></a> Номер не валидной карты: "4444 4444 4444 4442" статус карты "DECLINED"

#### <a name="подготовка"></a> Подготовка к тестированию
Описание находится по этой [ссылке](https://github.com/OSA85/AQA_Diplom/blob/master/README.md)

База данных - далее БД

#### <a name="valdata"></a> Пример валидных данных для заполнения:
1. Поле "Номер карты": [`4444 4444 4444 4441`](#valcard)
2. Поле "Месяц": вводим любое число в таком формате от 01 до 12,но если указывается год текущий, то номер месяца указывается не меньше чем текущий
3. Поле "Год": вводим две последние цифры года текущего или следующих за ним, но не больше чем на пять лет
4. Поле "Владелец": Имя и Фамилию, например `Владимир Путин`
5. Поле "CVC/CVV": ввести любое трехзначное число

 
**Ожидаемый результат после подготовки к тестированию:** на странице откроется форма покупки тура, далее работаем с этой формой.

### Позитивные сценарии

[Проводим подготовку к тестированию](#подготовка)

**Покупка дебетовой картой**

#### Шаги выполнения
1. Кликнуть по кнопке `Купить`.
2. Заполнить появившуюся форму [`валидными данными`](#valdata).
3. Кликнуть по кнопке `Продолжить`.

`Ожидаемый результат`
* Данные добавлены в БД
* Операция одобрена банком

**Покупка в кредит**
#### Шаги выполнения
1. Кликнуть по кнопке `Купить в кредит`.
2. Заполнить появившуюся форму [`валидными данными`](#valdata).
3. Кликнуть по кнопке `Продолжить`.

`Ожидаемый результат`
* Данные добавлены в БД
* Операция одобрена банком

### Негативные сценарии 
[Проводим подготовку к тестированию](#подготовка)

При первом прогоне тестов используется кнопка `Купить`, при втором прогоне заменить кнопку `Купить` на кнопку `Купить в кредит`.

1. **"Отправка пустой формы"**
   - Кликнуть по кнопке `Купить`.
   - Кликнуть по кнопке `Отправить`.
   
     **Ожидаемый результат:**
   
     * данные не отправлены;
     * под полем "Номер карты" появится сообщение `Неверный формат`;
     * под полем "Месяц" появится сообщение `Неверный формат`;
     * под полем "Год" появится сообщение `Неверный формат`;
     * под полем "Владелец" появится сообщение `Поле обязательно для заполнения`;
     * под полем "CVC/CVV" появится сообщение `Неверный формат`.

2. **"Валидация поля "Номер карты""**

   2.1 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Номер карты" [`валидными данными`](#valdata), это поле оставить пустым.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Номер карты" появится сообщение `Неверный формат`.
       
   2.2
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Номер карты" [`валидными данными`](#valdata).
   * Вполе "Номер карты" ввести одну цифру, например "4".
   * Кликнуть по кнопке `Продолжить`. 
       
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Номер карты" появится сообщение `Неверный формат`.
       
   2.3
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Номер карты" [`валидными данными`](#valdata).
   * Вполе "Номер карты" ввести 15 цифр, например "4444 4444 4444 444".
   * Кликнуть по кнопке `Продолжить`. 
       
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Номер карты" появится сообщение `Неверный формат`.
   
   2.4
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Номер карты" [`валидными данными`](#valdata).
   * Вполе "Номер карты" ввести 16 цифр, например "4444 4444 4444 4444".    
   * Кликнуть по кнопке `Продолжить`.
       
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * Появилось всплывающее окно `"Ошибка! Банк отказал в проведении операции"`.
    
   2.5
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Номер карты" [`валидными данными`](#valdata).
   * Вполе "Номер карты" ввести [не валидный номер](#notval) карты.    
   * Кликнуть по кнопке `Продолжить`.
       
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * Появилось всплывающее окно `"Ошибка! Банк отказал в проведении операции"`. 
       
3. **"Валидация поля "Месяц""**

   3.1 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Месяц" [`валидными данными`](#valdata), это поле оставить пустым.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверный формат`.
   
   3.2 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Месяц" [`валидными данными`](#valdata).
   * Вполе "Месяц" ввести одну цифру, например "4", не верный формат ввода, формат ввода описан в [примере валидных данных](#valdata).
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверный формат`.
   
   3.3 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Месяц" [`валидными данными`](#valdata), при этом указать текущий год.
   * Вполе "Месяц" ввести номер предыдущего месяца, в правильном формате.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
  
   3.3 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Месяц" [`валидными данными`](#valdata), при этом указать валидный год но не текущий.
   * Проверка нижнего граничного зачения. В поле "Месяц" ввести номер "00".
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
  
   3.4 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Месяц" [`валидными данными`](#valdata).
   * Проверка верхнего граничного зачения. В поле "Месяц" ввести номер "13".
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.

4. **"Валидация поля "Год""**

   4.1 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Год" [`валидными данными`](#valdata), это поле оставить пустым.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверный формат`.

   4.2
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Год" [`валидными данными`](#valdata).
   * Поле "Год" заполнить в правильном формате, на год меньше текущего.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Истёк срок действия карты`.

   4.2
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Год" [`валидными данными`](#valdata).
   * Поле "Год" заполнить в правильном формате, на шесть лет больше текущего.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.

5. **"Валидация поля "Владелец""**

   5.1 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Владелец" [`валидными данными`](#valdata), это поле оставить пустым.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Поле обязательно для заполнения`.

   5.2
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Владелец" [`валидными данными`](#valdata).
   * Поставить в поле "Владелец" пробел.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Поле обязательно для заполнения`.


   5.3
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Владелец" [`валидными данными`](#valdata).
   * Поставить в поле "Владелец" спец. символы, например "!№;%:?*()".
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверный формат`.
 
   5.4
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Владелец" [`валидными данными`](#valdata).
   * Поставить в поле "Владелец" цифры, например "123456789".
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверный формат`.

   5.5
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "Владелец" [`валидными данными`](#valdata).
   * Заполнить поле "Владелец" лаитнскими буквами, например "Vladimir Putin".
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "Месяц" появится сообщение `Неверный формат`.

6. **"Валидация поля "CVC/CVV""**

   6.1 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "CVC/CVV" [`валидными данными`](#valdata), это поле оставить пустым.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "CVC/CVV" появится сообщение `Неверный формат`.

   6.2 
   * Кликнуть по кнопке `Купить`.
   * Заполнить все поля кроме поля "CVC/CVV" [`валидными данными`](#valdata).
   * Заполнить поле "CVC/CVV" двумя цифрами, в формате "ХХ", где Х - любая цифра.
   * Кликнуть по кнопке `Продолжить`.
  
       **Ожидаемый результат:**
              
       * данные не отправлены;
       * под полем "CVC/CVV" появится сообщение `Неверный формат`.




### Перечень используемых инструментов с обоснованием выбора
* **JDK 11** - Для написания автотестов используем язык Java.
* **IntelliJ IDEA 2021.3.2 (Community Edition)** - Среда разработки программного обеспечения для языка Java (в нашем случае).
* **Gradle** - Система автоматической сборки. 
* **JUnit5** - Библиотека для тестирования программного обеспечения.
* **Lombok** - Библиотека для генерации кода, для упрощения написания.
* **Selenide** - Инструмент для тестирования Web-приложений, широкие встроенные возможности при простоте кода.
* **Git** - Система контроля версий, которая помогает отслеживать историю изменений в файлах.
* **GitHub** - Крупнейший веб-сервис для IT-проектов и их совместной разработки.
* **Docker** - Сервис для работы с указанными в требованиях БД, который прост в установке и работе с ним.
* **DBeaver** - Сервис для просмотра БД.
* **AppVeyor** - Сервис непрерывной интеграции, предназначенный для сборки и тестирования программного обеспечения.
* **Faker** - Библиотека которая генерирует различные данные для искусственного наполнителя полей нашего приложения в тестировании.

Возможно понадобятся еще какие-либо инструменты, использование которых будет необходимо в дальнейшем при автоматизации.

### Перечень и описание возможных рисков при автоматизации
- Проблема запуска SUT
- Возможны ошибки в автотестах
- Отсутствие документации
- Тесты будут зависеть от вебэлементов

### Интервальная оценка с учётом рисков (в часах)
Начало работы над дипломом 15.02.2022

Интервальная оценка с учётом **рисков** составляет 112 часов

### План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
1. Написание плана тестирования 12 часов
2. Настройка окружения 8 часов
3. Написание автотестов 40 часов
4. Описание результатов прогонов авто-тестов 12 часов
5. Написание отчетов по тестированию 8 часов
6. Написание отчетов по всей проделанной работе 8 часов
7. Доработка, исправления, дополнения перед сдачей работы 8 часов

С учетом не полного рабочего дня планируемая дата сдачи работы 10.03.22
